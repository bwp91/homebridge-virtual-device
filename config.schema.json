{
  "pluginAlias": "Homebridge Virtual Device",
  "pluginType": "platform",
  "singular": true,
  "author": "mkz212",
  "schema": {
    "type": "object",
    "properties": {
      "devices": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "title": "Name",
              "description": "Name of device, as it will be show in HomeKit.",
              "type": "string",
              "required": true
            },
            "type": {
        			"title": "Type",
        			"description": "Select type of the sensor.",
        			"type": "string",
        			"default": "switch",
        			"required": true,
        			"oneOf": [
        				{ "title": "Switch", "enum": ["switch"] },
        				{ "title": "Dimmer", "enum": ["dimmer"] },
        				{ "title": "Blind / roller shutter", "enum": ["blind"] },
        				{ "title": "Motion", "enum": ["motion"] },
        				{ "title": "Lock", "enum": ["lock"] },
        				{ "title": "Garage door", "enum": ["garage"] },
        				{ "title": "Security", "enum": ["security"] },
        				{ "title": "Thermostat", "enum": ["thermostat"] }
        			]
        		},
            "timer": {
              "title": "Timer",
              "description": "Timer in milliseconds. The timer is activated every time the device is turned on. Re-sending the command to turn on when the timer is on will extend the time (reset timer). Leave empty or put 0 to disable timer.",
              "type": "integer",
              "required": false
            },
            "sensor": {
              "title": "Add sensor",
              "description": "Add sensor to this device. Sensor will triger for 3 sec. when main device will set to on or off (you can choose). Useful for notifications.",
              "type": "string",
              "required": true,
              "default": "off",
              "oneOf": [
                { "title": "Off", "enum": ["off"] },
                { "title": "Motion", "enum": ["motion"] },
                { "title": "Motion - trigger when off", "enum": ["motion2"] },
                { "title": "Contact", "enum": ["contact"] },
                { "title": "Contact - trigger when off", "enum": ["contact2"] },
                { "title": "Occupancy", "enum": ["occupancy"] },
                { "title": "Occupancy - trigger when off", "enum": ["occupancy2"] },
                { "title": "Leak", "enum": ["leak"] },
                { "title": "Leak - trigger when off", "enum": ["leak2"] }
              ]
            }
          }
        }
      }
    }
  },
  "layout": [
    {
      "type": "array",
      "key": "devices",
      "title": "Devices",
      "description": "",
      "buttonText": "Add",
      "expandable": false,
      "expanded": true,
      "items": [
        {
          "type": "fieldset",
          "items": [
            "devices[].name",
            "devices[].type",
            "devices[].sensor"
          ]
        }
      ]
    }
  ]
}
